## initial setup
default tag for all configs generated by drupal_upgrade module:
--tag="Drupal 7"

Generated group is:
migration_group: migrate_drupal_7

Note: when using own custom groups:
- change group id
- change group iid

also you may change name of the .yml file, and:
- change iid in each yml file as it shall not be duplicated if you modify them.(or simply remove first line iid, and it will be generated new one)
- change id in each .yml file as it shall be unique
also you may change tag inside yml files that belong to the group: instead of general 'Drupal 7' may use 'Drupal7 Users'

Note:
Remove default Group that holds undeclared migrations as that one pollute migrate-status with d6_migration that do not exist in D7

## Drush import/refresh some changed migrations from a folder (by ex. when using above custom groups)
drush cim -y --partial --source=../migrations/
drush cim -y --partial --source=../migrations/resource/

### list all migrations with current status (Is our migration registered?)
drush migrate-status   (ms)
drush migrate-status --tag='Drupal 7'

drush mrs upgrade_d7m_user     (migrate:reset-status)

### Execute migrations using manifest file that have path starting from inside drupal root See also migrate:tree
drush cim -y --partial --source=../manifests/
drush cim -y --partial --source=../migrations/
drush cim -y --partial --source=../migrations/resource/
drush migrate-manifest ../manifests/migrate_manifest.users_roles.yml
drush migrate-manifest ../manifests/migrate_manifest.users_roles.yml --update

drush migrate-manifest ../manifests/migrate_manifest.content_types_resource.yml
drush migrate-manifest ../manifests/migrate_manifest.content_types_resource.yml --update --force   //will create content types but without fields

or:
drush migrate-manifest ../manifests/migrate_manifest.users_roles.yml --update --force

or other path:
drush migrate-manifest modules/custom/gks_custom_migration/migrate_manifest.users_roles.yml
drush migrate:manifest modules/custom/gks_custom_migration/migrate_manifest.users_roles.yml   (mm)

### Execute single migration with limits (drush mim)
drush migrate-import upgrade_d7_user_role --limit=3

or:
drush migrate-import upgrade_d7_user_role --limit=3  --update --force

### Migrate a node with given id, update if exists (example)
drush mim upgrade_d7file --idlist=29888 --update     //file id used for user with uid=1650
drush mim upgrade_d7m_user --idlist=1650 --update    //it creates a link with correct name with size=0 (just placeholder for real file to be simply copied)
                                                     //will try to have it as media !!!

drush mim upgrade_d7_publication_nodes --idlist=14644 --update --force

### Use groups to have a bunch of migrations together (similar to manifest but manifest is strict on sequence)
drush mim --group migrate_event_drupal_7

or use limits (it will update 3 users and 3 roles, mean limit is in each .yml from the group:
drush mim --group='migrate_users' --limit=3

if it fails run again:
drush mim --tag="Drupal 7" --group migrate_event_drupal_7 --update --force --continue-on-failure

### use groups to update manually only specific group:
drush mim --group migrate_event_drupal_7 --update --sync

### Rollback migration
drush migrate-rollback upgrade_d7_publication_nodes  (mr)
drush migrate:rollback upgrade_d7_publication_nodes

### reset migration status if issues like: "Migration already running"
drush migrate-reset-status upgrade_d7_user_role        (mrs)
drush migrate:reset-status upgrade_d7_user_role

### other commands
migrate:stop (mst)    Stop an active migration operation.
migrate:tree          Shows a tree of migration dependencies.

migrate:tree is useful for migrate:manifest by showing dependency - the one that shall be first.
Below 'upgrade_d7_taxonomy_vocabulary' shall be done first, when 'upgrade_d7_taxonomy_term_tags'

├──upgrade_d7_taxonomy_term_tags
│  └──upgrade_d7_taxonomy_vocabulary


### All commands  do `drush migrate --help`

migrate-analyze  (maz)  Analyze the source fields for a migration.
migrate-audit    (ma) 	View information on problems in a migration.
migrate-register (mreg) Register or re-register any statically defined migrations.
migrate-deregister 	    Remove all tracking of a migration
migrate-fields-destination (mfd) 	List the fields available for mapping in a destination.
migrate-fields-source (mfs) 	    List the fields available for mapping from a source.
migrate-import    (mim) Perform one or more migration processes
migrate-mappings  (mm) 	View information on all field mappings in a migration.
migrate-messages  (mmsg) View any messages associated with a migration.
migrate-reset-status (mrs) 	Reset an active migration's status to idle
migrate-rollback  (mr) 	Roll back the destination objects from a given migration
migrate-status    (ms) 	List all migrations with current status.
migrate-stop      (mst) Stop an active migration operation

